(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{22:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),u=n(13),o=n.n(u),l=(n(22),n(16)),i=(n(23),n(24),n(14)),s=n(3),b=n(5),j=(n(25),!1),d=!1,f=function(){var e=Object(a.useState)(15),t=Object(b.a)(e,2),n=t[0],r=t[1],u=Object(a.useState)(15),o=Object(b.a)(u,2),l=o[0],f=o[1],h=Object(a.useState)(5),m=Object(b.a)(h,2),O=m[0],p=m[1],x=Object(a.useState)(""),v=Object(b.a)(x,2),N=v[0],_=v[1],y=function(){for(var e=[],t=0;t<n;t+=1){for(var c=[],a=0;a<l;a+=1){var r=Math.floor(1e3*Math.random());c.push({id:[t,a],amount:r>100?r:r+100,className:"table__cell ui button"})}e.push(c)}return e},g=Object(a.useState)(y()),M=Object(b.a)(g,2),w=M[0],E=M[1],k=function(e){var t=e.target,n=t.name,c=t.value;switch(n){case"X":p(c);break;case"N":f(c);break;case"M":r(c)}},C=function(){for(var e=[],t=0;t<l;t+=1){for(var c=0,a=0;a<n;a+=1)w[a][t].id[1]===t&&(c+=w[a][t].amount);e.push({average:n?Math.round(c/n):0,id:t})}return e}(),S=function(){for(var e=[],t=0;t<n;t+=1)e.push({sum:w[t].reduce((function(e,t){return e+t.amount}),0),id:w[t][0].id[0]});return e}(),F=function(){w.forEach((function(e){e.forEach((function(e){e.className="table__cell ui button"}))})),E(Object(s.a)(w))},X=function(){j=!1,E(Object(s.a)(w))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("form",{className:"ui form initial-form",onSubmit:function(e){e.preventDefault(),n<1||l<1?_('Fill "M" and "N" fields in diapason 1 - 15, please'):O<1?_('"X" field must be > 0'):(E(y),d=!0)},children:[Object(c.jsxs)("label",{children:["M : ",Object(c.jsx)("input",{type:"number",value:n,name:"M",placeholder:"Enter columns",onChange:k})]}),Object(c.jsxs)("label",{children:["N : ",Object(c.jsx)("input",{type:"number",value:l,name:"N",placeholder:"Enter rows",onChange:k})]}),Object(c.jsxs)("label",{children:["X : ",Object(c.jsx)("input",{type:"number",value:O,name:"X",onChange:k})]}),Object(c.jsx)("button",{type:"submit",className:"ui button green",children:"Create table"}),Object(c.jsx)("p",{children:N})]}),d?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"table-major",children:[Object(c.jsx)("table",{className:"table",children:Object(c.jsx)("tbody",{children:Object(c.jsxs)("th",{children:["Table with random values",w.map((function(e){return Object(c.jsx)("tr",{children:e.map((function(e){return Object(c.jsx)("td",{children:Object(c.jsxs)("button",{type:"button",className:e.className,onClick:function(){return function(e){var t=e.el;w.forEach((function(e){return e.forEach((function(e){e.id===t.id&&(t.amount+=1)}))})),E(Object(s.a)(w))}({el:e})},onMouseOver:function(){F(),function(e){for(var t=e.el,n=0,c=0;n<O;)w.forEach((function(e){e.forEach((function(e){t.amount+c>=e.amount&&t.amount-c<=e.amount&&t.id!==e.id?"table__cell ui button blue"!==e.className&&n<O&&(e.className="table__cell ui button blue",n+=1):e.className="table__cell ui button",n<O&&(c+=1)}))}));E(Object(s.a)(w))}({el:e})},onFocus:function(){return F()},children:["".concat(j?e.percent:e.amount),Object(c.jsx)("span",{className:"table__cell-percent",style:{height:j?"".concat(e.percent):""}})]})},e.id)}))},e[0].id[0])}))]})})}),Object(c.jsx)("table",{className:"table",children:Object(c.jsxs)("tbody",{children:[Object(c.jsx)("th",{children:"Sum"}),S.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("button",{type:"button",className:"table__cell ui button yellow",onMouseOver:function(){F(),function(e){var t=e.row;w.forEach((function(e){e.forEach((function(e){t.id===e.id[0]?e.percent="".concat((e.amount/t.sum*100).toFixed(2),"%"):e.percent=e.amount}))})),j=!0,E(Object(s.a)(w))}({row:e})},onMouseOut:function(){return X()},onFocus:function(){return F()},onBlur:function(){return X()},children:e.sum})}),Object(c.jsx)("button",{type:"button",className:"ui button red",onClick:function(){return function(e){var t,c=e.row,a=Object(i.a)(w);try{var u=function(){var e=t.value;e[0].id[0]===c.id&&(E(w.filter((function(t){return t!==e}))),r(n-1))};for(a.s();!(t=a.n()).done;)u()}catch(o){a.e(o)}finally{a.f()}}({row:e})},children:"Delete row"})]},e.id)}))]})})]}),Object(c.jsx)("table",{className:"table",children:Object(c.jsx)("tbody",{children:Object(c.jsxs)("th",{children:["Average value in column",Object(c.jsx)("tr",{children:C.map((function(e){return Object(c.jsx)("td",{children:Object(c.jsx)("button",{type:"button",className:"table__cell ui button orange",children:Math.round(e.average)})},e.id)}))})]})})}),Object(c.jsx)("button",{type:"button",className:"table__cell ui button green add-btn",onClick:function(){return function(){for(var e=n;e<=n;e+=1){for(var t=[],c=0;c<l;c+=1){var a=Math.floor(1e3*Math.random());t.push({id:[e,c],amount:a>100?a:a+100,className:"table__cell ui button"})}w.push(t)}return r(n+1),E(Object(s.a)(w)),n}()},children:"Add row"})]}):Object(c.jsx)("h2",{className:"create-text",children:"Click button, please"})]})},h=function(){return Object(c.jsx)("div",{children:Object(c.jsx)(f,{})})};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(l.a,{children:Object(c.jsx)(h,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.b9872928.chunk.js.map